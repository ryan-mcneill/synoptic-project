{"ast":null,"code":"import get from \"axios\";\nimport { FETCH_SONGS, FETCH_SONGS_FAILURE, FETCH_SONGS_SUCCESS, PLAYLIST_ADD, PLAYLIST_REMOVE, UPDATE_PLAYLIST } from \"../types\"; // @ts-ignore\n\nexport const setPlaylist = songs => {\n  const firstSong = songs[0];\n  const nextSongs = songs.slice(1, songs.length);\n  return {\n    type: UPDATE_PLAYLIST,\n    payload: {\n      firstSong,\n      nextSongs\n    }\n  };\n};\nexport const playlistAdd = song => ({\n  type: PLAYLIST_ADD,\n  payload: song\n});\nexport const playlistRemove = song => ({\n  type: PLAYLIST_REMOVE,\n  payload: song\n});\nexport const updatePlaylist = ({\n  previous,\n  current,\n  next\n}) => ({\n  type: UPDATE_PLAYLIST,\n  payload: {\n    previous,\n    current,\n    next\n  }\n});\n\nconst fetchSongsAction = () => ({\n  type: FETCH_SONGS\n});\n\nconst fetchSongsFailure = error => ({\n  type: FETCH_SONGS_FAILURE,\n  payload: {\n    error\n  }\n});\n\nconst fetchSongsSuccess = playlist => ({\n  type: FETCH_SONGS_SUCCESS,\n  payload: playlist\n});\n\nexport const fetchSongs = ({\n  id,\n  type\n}) => {\n  return dispatch => {\n    dispatch(fetchSongsAction());\n    get(`/api/songs/${type}/${id}`).then(res => {\n      dispatch(fetchSongsSuccess(res.data));\n    }).catch(err => {\n      dispatch(fetchSongsFailure(err.message));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/mcneillr/personal/synoptic-project/packages/app/src/store/actions/playlistActions.ts"],"names":["get","FETCH_SONGS","FETCH_SONGS_FAILURE","FETCH_SONGS_SUCCESS","PLAYLIST_ADD","PLAYLIST_REMOVE","UPDATE_PLAYLIST","setPlaylist","songs","firstSong","nextSongs","slice","length","type","payload","playlistAdd","song","playlistRemove","updatePlaylist","previous","current","next","fetchSongsAction","fetchSongsFailure","error","fetchSongsSuccess","playlist","fetchSongs","id","dispatch","then","res","data","catch","err","message"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,OAAhB;AAEA,SACEC,WADF,EAEEC,mBAFF,EAGEC,mBAHF,EAOEC,YAPF,EAQEC,eARF,EAWEC,eAXF,QAaO,UAbP,C,CAeA;;AACA,OAAO,MAAMC,WAAgB,GAAIC,KAAD,IAAW;AACzC,QAAMC,SAAS,GAAGD,KAAK,CAAC,CAAD,CAAvB;AACA,QAAME,SAAS,GAAGF,KAAK,CAACG,KAAN,CAAY,CAAZ,EAAeH,KAAK,CAACI,MAArB,CAAlB;AAEA,SAAO;AACLC,IAAAA,IAAI,EAAEP,eADD;AAELQ,IAAAA,OAAO,EAAE;AAAEL,MAAAA,SAAF;AAAaC,MAAAA;AAAb;AAFJ,GAAP;AAID,CARM;AAUP,OAAO,MAAMK,WAA6C,GAAIC,IAAD,KAAW;AACtEH,EAAAA,IAAI,EAAET,YADgE;AAEtEU,EAAAA,OAAO,EAAEE;AAF6D,CAAX,CAAtD;AAKP,OAAO,MAAMC,cAAmD,GAAID,IAAD,KAAW;AAC5EH,EAAAA,IAAI,EAAER,eADsE;AAE5ES,EAAAA,OAAO,EAAEE;AAFmE,CAAX,CAA5D;AAKP,OAAO,MAAME,cAAmD,GAAG,CAAC;AAClEC,EAAAA,QADkE;AAElEC,EAAAA,OAFkE;AAGlEC,EAAAA;AAHkE,CAAD,MAI7C;AACpBR,EAAAA,IAAI,EAAEP,eADc;AAEpBQ,EAAAA,OAAO,EAAE;AACPK,IAAAA,QADO;AAEPC,IAAAA,OAFO;AAGPC,IAAAA;AAHO;AAFW,CAJ6C,CAA5D;;AAaP,MAAMC,gBAAiD,GAAG,OAAO;AAC/DT,EAAAA,IAAI,EAAEZ;AADyD,CAAP,CAA1D;;AAIA,MAAMsB,iBAAyD,GAAIC,KAAD,KAAY;AAC5EX,EAAAA,IAAI,EAAEX,mBADsE;AAE5EY,EAAAA,OAAO,EAAE;AAAEU,IAAAA;AAAF;AAFmE,CAAZ,CAAlE;;AAKA,MAAMC,iBAAyD,GAC7DC,QADgE,KAE5D;AACJb,EAAAA,IAAI,EAAEV,mBADF;AAEJW,EAAAA,OAAO,EAAEY;AAFL,CAF4D,CAAlE;;AAOA,OAAO,MAAMC,UAAU,GAAG,CAAC;AACzBC,EAAAA,EADyB;AAEzBf,EAAAA;AAFyB,CAAD,KAMpB;AACJ,SAAQgB,QAAD,IAAwB;AAC7BA,IAAAA,QAAQ,CAACP,gBAAgB,EAAjB,CAAR;AAEAtB,IAAAA,GAAG,CAAE,cAAaa,IAAK,IAAGe,EAAG,EAA1B,CAAH,CACGE,IADH,CACSC,GAAD,IAAS;AACbF,MAAAA,QAAQ,CAACJ,iBAAiB,CAACM,GAAG,CAACC,IAAL,CAAlB,CAAR;AACD,KAHH,EAIGC,KAJH,CAIUC,GAAD,IAAS;AACdL,MAAAA,QAAQ,CAACN,iBAAiB,CAACW,GAAG,CAACC,OAAL,CAAlB,CAAR;AACD,KANH;AAOD,GAVD;AAWD,CAlBM","sourcesContent":["import get from \"axios\";\nimport { ActionCreator, Dispatch } from \"redux\";\nimport {\n  FETCH_SONGS,\n  FETCH_SONGS_FAILURE,\n  FETCH_SONGS_SUCCESS,\n  FetchSongsAction,\n  FetchSongsFailureAction,\n  FetchSongsSuccessAction,\n  PLAYLIST_ADD,\n  PLAYLIST_REMOVE,\n  PlaylistAddAction,\n  PlaylistRemoveAction, PlaylistState,\n  UPDATE_PLAYLIST,\n  UpdatePlaylistAction\n} from \"../types\";\n\n// @ts-ignore\nexport const setPlaylist: any = (songs) => {\n  const firstSong = songs[0];\n  const nextSongs = songs.slice(1, songs.length);\n\n  return {\n    type: UPDATE_PLAYLIST,\n    payload: { firstSong, nextSongs }\n  };\n};\n\nexport const playlistAdd: ActionCreator<PlaylistAddAction> = (song) => ({\n  type: PLAYLIST_ADD,\n  payload: song\n});\n\nexport const playlistRemove: ActionCreator<PlaylistRemoveAction> = (song) => ({\n  type: PLAYLIST_REMOVE,\n  payload: song\n});\n\nexport const updatePlaylist: ActionCreator<UpdatePlaylistAction> = ({\n  previous,\n  current,\n  next\n}: PlaylistState) => ({\n  type: UPDATE_PLAYLIST,\n  payload: {\n    previous,\n    current,\n    next\n  }\n});\n\nconst fetchSongsAction: ActionCreator<FetchSongsAction> = () => ({\n  type: FETCH_SONGS\n});\n\nconst fetchSongsFailure: ActionCreator<FetchSongsFailureAction> = (error) => ({\n  type: FETCH_SONGS_FAILURE,\n  payload: { error }\n});\n\nconst fetchSongsSuccess: ActionCreator<FetchSongsSuccessAction> = (\n  playlist\n) => ({\n  type: FETCH_SONGS_SUCCESS,\n  payload: playlist\n});\n\nexport const fetchSongs = ({\n  id,\n  type\n}: {\n  id: string;\n  type: \"album\" | \"artist\";\n}) => {\n  return (dispatch: Dispatch) => {\n    dispatch(fetchSongsAction());\n\n    get(`/api/songs/${type}/${id}`)\n      .then((res) => {\n        dispatch(fetchSongsSuccess(res.data));\n      })\n      .catch((err) => {\n        dispatch(fetchSongsFailure(err.message));\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}