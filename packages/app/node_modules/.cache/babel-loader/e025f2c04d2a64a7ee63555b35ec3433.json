{"ast":null,"code":"var _jsxFileName = \"/Users/mcneillr/personal/synoptic-project/packages/app/src/components/Menu/SearchTab.tsx\";\nimport React, { createRef, useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport isequal from \"lodash.isequal\";\nimport { SongsTab } from \"./\";\nimport { filterData } from \"../../utils\";\n\nconst mapStateToProps = state => ({\n  artists: state.artists.data,\n  albums: state.albums.data,\n  playlists: state.playlists.data\n});\n\nconst connector = connect(mapStateToProps);\n\nconst SearchTab = ({\n  artists,\n  albums,\n  playlists\n}) => {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filteredArtists, setFilteredArtists] = useState();\n  const [filteredAlbums, setFilteredAlbums] = useState();\n  const [filteredPlaylists, setFilteredPlaylists] = useState();\n  const textInput = createRef();\n  useEffect(() => {\n    if (searchTerm !== \"\") {\n      console.log(\"new term: \", searchTerm);\n      let artistsFiltered = filterData(artists, searchTerm);\n      if (!isequal(artistsFiltered, filteredArtists)) setFilteredArtists(artistsFiltered);\n      let albumsFiltered = filterData(albums, searchTerm);\n      if (!isequal(albumsFiltered, filteredAlbums)) setFilteredAlbums(albumsFiltered);\n      let playlistsFiltered = filterData(playlists, searchTerm);\n      if (!isequal(playlistsFiltered, filteredPlaylists)) setFilteredPlaylists(playlistsFiltered);\n    }\n  }, [searchTerm, albums, artists, filteredAlbums, filteredArtists, filteredPlaylists, playlists]);\n\n  const handleClick = () => {\n    if (textInput.current && textInput.current.value !== searchTerm) {\n      setSearchTerm(textInput.current.value);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      height: \"4vh\",\n      fontSize: \"36px\",\n      marginBottom: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: textInput,\n    type: \"text\",\n    placeholder: \"Type to search...\",\n    style: {\n      width: \"calc(100% - 8vh)\",\n      fontSize: \"36px\",\n      paddingLeft: \"2vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    style: {\n      width: \"8vh\",\n      fontSize: \"36px\"\n    },\n    value: \"Search\",\n    onClick: () => handleClick(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  })), searchTerm === \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: \"48px\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"Please type something in the search bar to begin.\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: \"48px\",\n      textAlign: \"center\",\n      marginBottom: \"80px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Now showing results for \\\"\", searchTerm, \"\\\".\"), /*#__PURE__*/React.createElement(SongsTab, {\n    artists: filteredArtists,\n    albums: filteredAlbums,\n    playlists: filteredPlaylists,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default connector(SearchTab);","map":{"version":3,"sources":["/Users/mcneillr/personal/synoptic-project/packages/app/src/components/Menu/SearchTab.tsx"],"names":["React","createRef","useEffect","useState","connect","isequal","SongsTab","filterData","mapStateToProps","state","artists","data","albums","playlists","connector","SearchTab","searchTerm","setSearchTerm","filteredArtists","setFilteredArtists","filteredAlbums","setFilteredAlbums","filteredPlaylists","setFilteredPlaylists","textInput","console","log","artistsFiltered","albumsFiltered","playlistsFiltered","handleClick","current","value","display","height","fontSize","marginBottom","width","paddingLeft","textAlign"],"mappings":"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","sourcesContent":["import React, { createRef, FC, ReactElement, useEffect, useState } from \"react\";\nimport { connect, ConnectedProps } from \"react-redux\";\nimport isequal from \"lodash.isequal\";\nimport { SongsTab } from \"./\";\nimport { filterData } from \"../../utils\";\nimport { State } from \"../../store/types\";\n\nconst mapStateToProps = (state: State) => ({\n  artists: state.artists.data,\n  albums: state.albums.data,\n  playlists: state.playlists.data\n});\n\nconst connector = connect(mapStateToProps);\n\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\nconst SearchTab: FC<PropsFromRedux> = ({\n  artists,\n  albums,\n  playlists\n}): ReactElement => {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filteredArtists, setFilteredArtists] = useState();\n  const [filteredAlbums, setFilteredAlbums] = useState();\n  const [filteredPlaylists, setFilteredPlaylists] = useState();\n  const textInput = createRef<HTMLInputElement>();\n\n  useEffect(() => {\n    if (searchTerm !== \"\") {\n      console.log(\"new term: \", searchTerm);\n      let artistsFiltered = filterData(artists, searchTerm);\n      if (!isequal(artistsFiltered, filteredArtists))\n        setFilteredArtists(artistsFiltered);\n\n      let albumsFiltered = filterData(albums, searchTerm);\n      if (!isequal(albumsFiltered, filteredAlbums))\n        setFilteredAlbums(albumsFiltered);\n\n      let playlistsFiltered = filterData(playlists, searchTerm);\n      if (!isequal(playlistsFiltered, filteredPlaylists))\n        setFilteredPlaylists(playlistsFiltered);\n    }\n  }, [searchTerm, albums, artists, filteredAlbums, filteredArtists, filteredPlaylists, playlists]);\n\n  const handleClick = () => {\n    if (textInput.current && textInput.current.value !== searchTerm) {\n      setSearchTerm(textInput.current.value);\n    }\n  };\n\n  return (\n    <>\n      <div\n        style={{\n          display: \"flex\",\n          height: \"4vh\",\n          fontSize: \"36px\",\n          marginBottom: \"20px\"\n        }}\n      >\n        <input\n          ref={textInput}\n          type=\"text\"\n          placeholder=\"Type to search...\"\n          style={{\n            width: \"calc(100% - 8vh)\",\n            fontSize: \"36px\",\n            paddingLeft: \"2vw\"\n          }}\n        />\n        <input\n          type=\"button\"\n          style={{\n            width: \"8vh\",\n            fontSize: \"36px\"\n          }}\n          value=\"Search\"\n          onClick={() => handleClick()}\n        />\n      </div>\n      {searchTerm === \"\" ? (\n        <div style={{ fontSize: \"48px\", textAlign: \"center\" }}>\n          Please type something in the search bar to begin.\n        </div>\n      ) : (\n        <>\n          <div style={{ fontSize: \"48px\", textAlign: \"center\", marginBottom: \"80px\" }}>\n            Now showing results for &quot;{searchTerm}&quot;.\n          </div>\n          <SongsTab\n            artists={filteredArtists}\n            albums={filteredAlbums}\n            playlists={filteredPlaylists}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default connector(SearchTab);\n"]},"metadata":{},"sourceType":"module"}