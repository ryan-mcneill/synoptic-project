{"ast":null,"code":"import FastAverageColor from \"fast-average-color\";\nimport { SET_BACKGROUND, SET_SONG } from \"../types\";\nexport const setCurrentSong = data => ({\n  type: SET_SONG,\n  data\n});\nexport const setBackground = data => ({\n  type: SET_BACKGROUND,\n  data\n});\nexport const getBackground = ({\n  id\n}) => {\n  console.log(\"hredlfdofdl\");\n  return dispatch => {\n    const fac = new FastAverageColor();\n    fac.getColorAsync(`/api/album-art/${id}`).then(color => {\n      const {\n        isLight,\n        isDark,\n        hex: colour\n      } = color;\n      dispatch(setBackground({\n        isLight,\n        isDark,\n        colour\n      }));\n    }).catch(error => {\n      console.error(error.message);\n    });\n  };\n};","map":{"version":3,"sources":["/Users/mcneillr/personal/synoptic-project/packages/app/src/store/actions/currentSongActions.ts"],"names":["FastAverageColor","SET_BACKGROUND","SET_SONG","setCurrentSong","data","type","setBackground","getBackground","id","console","log","dispatch","fac","getColorAsync","then","color","isLight","isDark","hex","colour","catch","error","message"],"mappings":"AAEA,OAAOA,gBAAP,MAA6B,oBAA7B;AACA,SAGEC,cAHF,EAIEC,QAJF,QAMO,UANP;AAQA,OAAO,MAAMC,cAAc,GAAIC,IAAD,KAAqC;AACjEC,EAAAA,IAAI,EAAEH,QAD2D;AAEjEE,EAAAA;AAFiE,CAArC,CAAvB;AAKP,OAAO,MAAME,aAAa,GAAIF,IAAD,KAA2C;AACtEC,EAAAA,IAAI,EAAEJ,cADgE;AAEtEG,EAAAA;AAFsE,CAA3C,CAAtB;AAKP,OAAO,MAAMG,aAAa,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAA4B;AACvDC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,SAAQC,QAAD,IAAwB;AAC7B,UAAMC,GAAG,GAAG,IAAIZ,gBAAJ,EAAZ;AAEAY,IAAAA,GAAG,CACAC,aADH,CACkB,kBAAiBL,EAAG,EADtC,EAEGM,IAFH,CAESC,KAAD,IAAoC;AACxC,YAAM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA,MAAX;AAAmBC,QAAAA,GAAG,EAAEC;AAAxB,UAAmCJ,KAAzC;AACAJ,MAAAA,QAAQ,CAACL,aAAa,CAAC;AAAEU,QAAAA,OAAF;AAAWC,QAAAA,MAAX;AAAmBE,QAAAA;AAAnB,OAAD,CAAd,CAAR;AACD,KALH,EAMGC,KANH,CAMUC,KAAD,IAAkB;AACvBZ,MAAAA,OAAO,CAACY,KAAR,CAAcA,KAAK,CAACC,OAApB;AACD,KARH;AASD,GAZD;AAaD,CAfM","sourcesContent":["import { Dispatch } from \"redux\";\nimport axios from \"axios\";\nimport FastAverageColor from \"fast-average-color\";\nimport {\n  Background,\n  CurrentSongActions,\n  SET_BACKGROUND,\n  SET_SONG,\n  Song\n} from \"../types\";\n\nexport const setCurrentSong = (data: Song): CurrentSongActions => ({\n  type: SET_SONG,\n  data\n});\n\nexport const setBackground = (data: Background): CurrentSongActions => ({\n  type: SET_BACKGROUND,\n  data\n});\n\nexport const getBackground = ({ id }: { id: string }) => {\n  console.log(\"hredlfdofdl\")\n  return (dispatch: Dispatch) => {\n    const fac = new FastAverageColor();\n\n    fac\n      .getColorAsync(`/api/album-art/${id}`)\n      .then((color: IFastAverageColorResult) => {\n        const { isLight, isDark, hex: colour } = color;\n        dispatch(setBackground({ isLight, isDark, colour }));\n      })\n      .catch((error: Error) => {\n        console.error(error.message);\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}